# CHAPTER 5 문법

마지막으로 자바스크립트 언어에서 구문이 어떠헥 작동하는지(문법) 알아보자.

자바스크립트 문법은 각종 구문(연산자, 키워드)들을 서로 잘  끼워 맞춰 규칙에 맞는, 유효한 프로그램을 만들기 위한, 구조적 방법이다. 개발자들이 직접 마주할 대상은 있는 그대로의 언어 구문이지만 이 장에서는 최대한 정확한 문법을 기술하는데 초첨을 둘 것이다. 

* [5-1 문과 표현식](#5-1-문과-표현식)

## 5-1 문과 표현식

자바스크립트에서 문(Statement)과 표현식(Expression)은 아주 주용한 차이가 있으므로 명확하게 분별하자.

영어에 대입해보면 문(Statement)은 문장(Sentence), 표현식(Expression)은 어구(Phrase), 연산자는 구두점/접속사에 해당된다. 자바스크립트에서 모든 표현식은 단일한, 특저한 결괏값으로 계산된다.

```js
var a = 3 * 6;
var b = a;
b;
```

3가지 모두 표현식. 그리고 표현식이 포함된 문.

var a= 3 * 6, var b = a 두 문은 각각 변수를 선언(그리고 어떤 값으로 할당)하므로 '선언문'이라 한다.
(앞에 var가 빠진) a = 3 * 6, b = a 는 '할당 표현식'이라고 한다.

세 번째 줄 b 는 '표현식 문'이라고 일컫는다.

### 5-1-1 문의 완료 값

모든 문은 (값이 undefined라 해도) 완료 값(Completion Value)을 가진다는 사실을 의외로 모르는 사람이 많다.

문의 완료 값을 확인하는 방법은 브라우저 개발자 콘솔 창에서 문을 타이핑해보는 것이다. 콘솔 창은 가장 최근에 실행된 문의 완료 값을 기본적으로 출력하게 되어 있다.

var b = a 같은 문은 완료 값이 뭘까?

할당 표현식 b = a는 할당 이후의 값(여기서는 18)이 완료 값이지만, var 문 자체의 완료 값은 udefined다. 명세에 그렇게 적혀있기 때문이다.

완료 값을 순간 포착할 방법은 없을까? 근데 왜 꼭 그래야하는지부터 생각하자.

예를 들어, 보통의 { } 블록은 내부의 가장 마지막 문/표현식의 완료 값을 자신의 완료 값으로 반환한다.

```js
var b;

if (true) {
	b = 4 + 38;
}
```

b = 4 + 38의 완료값인 42가 반환된다.

즉, 블록의 완료 값은 내부에 있는 마지막 문의 값을 암시적으로 반환한 값이다.

하지만 다음과 같은 코드가 작동하지 않는 건 문제가 있다.

```js
var a, b;

a = if (true) {
	b = 4 + 38;
};
```

문의 완료 값을 포착하여 다른 변수에 할당한다는 건 쉬운 구문/문법으로는 불가능하다.

*예를 들기 위함이니 아래 코드는 실제로 사용하지 말자*

유해함의 대명사 eval() 함수를 사용할 수 밖에 없다.

```js
var a, b;

a = eval( "if (true) { b = 4 + 38; }" );

a;	// 42
```

꼴보기 싫은 코드지만 잘 돌아간다!

ES7 명세에는 'do 표현식'이 제안된 상태다.

```js
var a, b;

a = do {
	if (true) {
		b = 4 + 38;
	}
};

a;	// 42
```

do { } 표현식은 (하나 이상의 문을 포함한) 블록 실행 후 블록 내 마지막 문의 완료 값을 do 표현식 전체의 완료 값으로 반환하며 결국 이 값이 변수 a에 할당된다.

아직까지는 문 오나료 값을 대수롭지 않게 여기고 있지만 자바스크립트 언어가 진화할수록 그 중요성은 점점 더 부각될 것 같다.

다시 경고하지만 eval()은 사용하지 말자. 자세한 내용은 2부 스코프와 클로져를 참고하자.